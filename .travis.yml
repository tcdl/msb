language: node_js
node_js:
- '7'
- '6'
- '5'
- '4'
after_success:
  - npm run coveralls
services:
  - rabbitmq
before_deploy:
  - npm run build
deploy:
  provider: npm
  email: integration-dev@thomascookonline.com
  api_key:
    secure: lzF+SNlNL/cX097wwbboBH/oMLdYm5U3pmGyySLHuKtdnzvRuvWoFnFvR3s0V4UEkYrGijqCz5NvvhlbAFgSaQvgctxlhW5082ZcnWr8R+pYGOrooxcseZwXC3nwhBe6lT/mmjyW5VyhDrk7LG3nGzfGuv/BfiTxcCbHm9YrLB0=
  on:
    tags: true
    repo: tcdl/msb
